[{"id":"b9bda66c.7da068","type":"subflow","name":"Network Map","info":"","category":"Zigbee2MQTT Admin Panel","in":[],"out":[]},{"id":"be1769c7.fcd258","type":"mqtt in","z":"b9bda66c.7da068","name":"zigbee2mqtt/out","topic":"zigbee2mqtt/bridge/networkmap/graphviz","qos":"2","broker":"6e165f21.f7645","x":120,"y":140,"wires":[["b69d01a2.5fb42"]]},{"id":"830596e0.2ea2e8","type":"http in","z":"b9bda66c.7da068","name":"","url":"/adminpanelapi/networkmap/graphviz","method":"get","upload":false,"swaggerDoc":"","x":200,"y":200,"wires":[["fcf73a7.281d7c8"]]},{"id":"ba0659b9.903168","type":"http response","z":"b9bda66c.7da068","name":"","x":590,"y":200,"wires":[]},{"id":"fcf73a7.281d7c8","type":"function","z":"b9bda66c.7da068","name":"get from flow","func":"var networkmap = flow.get('networkmap');\nmsg.payload = networkmap;\nreturn msg;","outputs":1,"noerr":0,"x":450,"y":200,"wires":[["ba0659b9.903168"]]},{"id":"6424a833.d612f8","type":"inject","z":"b9bda66c.7da068","name":"","topic":"","payload":"graphviz","payloadType":"str","repeat":"60","crontab":"","once":true,"onceDelay":0.1,"x":120,"y":80,"wires":[["f693dc17.5ddab"]]},{"id":"b69d01a2.5fb42","type":"function","z":"b9bda66c.7da068","name":"store in flow","func":"flow.set('networkmap',msg.payload);\nreturn msg;","outputs":1,"noerr":0,"x":290,"y":140,"wires":[[]]},{"id":"f693dc17.5ddab","type":"mqtt out","z":"b9bda66c.7da068","name":"zigbee2mqtt/in","topic":"zigbee2mqtt/bridge/networkmap","qos":"","retain":"","broker":"cd51966f.aa7e38","x":280,"y":80,"wires":[]},{"id":"4ad99e02.84c35","type":"subflow","name":"Pairing Notifications","info":"","category":"Zigbee2MQTT Admin Panel","in":[],"out":[]},{"id":"b1651339.97b0f","type":"mqtt in","z":"4ad99e02.84c35","name":"zigbee2mqtt/logging","topic":"zigbee2mqtt/bridge/log","qos":"2","broker":"6e165f21.f7645","x":290,"y":140,"wires":[["47fcdeb6.6175e"]]},{"id":"47fcdeb6.6175e","type":"json","z":"4ad99e02.84c35","name":"","property":"payload","action":"","pretty":false,"x":450,"y":140,"wires":[["b563b14d.b62aa","abe236ef.d74f48","a5a29cbc.3c677"]]},{"id":"5ba2378e.4e0f68","type":"ui_toast","z":"4ad99e02.84c35","position":"top right","displayTime":"30","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"System Notification","name":"","x":950,"y":80,"wires":[]},{"id":"b563b14d.b62aa","type":"function","z":"4ad99e02.84c35","name":"Notification","func":"if(msg.payload.type == \"pairing\" && msg.payload.message == \"connecting with device\") {\n\nmsg.payload = (\"A device is attempting to pair...\");\n\nreturn msg;\n}\n","outputs":1,"noerr":0,"x":750,"y":80,"wires":[["5ba2378e.4e0f68"]]},{"id":"533babfa.d66de4","type":"comment","z":"4ad99e02.84c35","name":"Notification","info":"","x":110,"y":140,"wires":[]},{"id":"25cd331a.0e442c","type":"comment","z":"4ad99e02.84c35","name":"Pairing","info":"","x":590,"y":80,"wires":[]},{"id":"4de4cb04.3c7f94","type":"ui_toast","z":"4ad99e02.84c35","position":"top right","displayTime":"10","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"System Notification","name":"","x":950,"y":200,"wires":[]},{"id":"abe236ef.d74f48","type":"function","z":"4ad99e02.84c35","name":"Notification","func":"if(msg.payload.type == \"device_connected\") {\n\nmsg.payload = (\"Device paired successfully: \" + msg.payload.message);\n\nreturn msg;\n}\n","outputs":1,"noerr":0,"x":750,"y":200,"wires":[["4de4cb04.3c7f94"]]},{"id":"dbd0c6ff.3abdd8","type":"comment","z":"4ad99e02.84c35","name":"Paired","info":"","x":590,"y":200,"wires":[]},{"id":"28592a18.66f2f6","type":"ui_toast","z":"4ad99e02.84c35","position":"top right","displayTime":"30","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"System Notification","name":"","x":1030,"y":140,"wires":[]},{"id":"a5a29cbc.3c677","type":"function","z":"4ad99e02.84c35","name":"Notification","func":"if(msg.payload.type == \"pairing\" && msg.payload.message == \"device incoming\") {\n\nmsg.payload = (\"A device is incoming or repairing...\");\n\nreturn msg;\n}\n","outputs":1,"noerr":0,"x":830,"y":140,"wires":[["28592a18.66f2f6"]]},{"id":"465d6bf8.ea6d84","type":"comment","z":"4ad99e02.84c35","name":"Incoming or Repairing","info":"","x":640,"y":140,"wires":[]},{"id":"37cf9578.79b03a","type":"subflow","name":"Devices","info":"","category":"Zigbee2MQTT Admin Panel","in":[],"out":[]},{"id":"cf05a2a1.2ecdd","type":"mqtt in","z":"37cf9578.79b03a","name":"zigbee2mqtt/out devices","topic":"zigbee2mqtt/bridge/log","qos":"2","broker":"6e165f21.f7645","x":350,"y":140,"wires":[["c0ea4e97.8a3e5"]]},{"id":"83db48d2.2e13c8","type":"ui_template","z":"37cf9578.79b03a","group":"afdf3e0c.579d4","name":"","order":0,"width":"12","height":"12","format":"<table>\n<tr>\n    <td><B><U>Name:</U></B></td>\n    <td><B><U>ieeeAddr:</U></B></td>\n    <td><B><U>Model:</U></B></td>\n    <td><B><U>Type:</U></B></td>\n</tr>\n  <tr ng-repeat=\"obj in msg.payload.message\">\n    <td>{{ obj.friendly_name }}</td>\n    <td>{{ obj.ieeeAddr }}</td>\n    <td>{{ obj.model }}</td>\n    <td>{{ obj.type }}</td>\n  </tr>\n\n</table>\n\n","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":660,"y":140,"wires":[[]]},{"id":"3c7a46dc.1fc2fa","type":"mqtt out","z":"37cf9578.79b03a","name":"zigbee2mqtt/in devices","topic":"zigbee2mqtt/bridge/config/devices","qos":"","retain":"","broker":"6e165f21.f7645","x":580,"y":60,"wires":[]},{"id":"5d200fb9.a2661","type":"inject","z":"37cf9578.79b03a","name":"Request Device List","topic":"","payload":"","payloadType":"date","repeat":"4","crontab":"","once":true,"onceDelay":0.1,"x":360,"y":60,"wires":[["3c7a46dc.1fc2fa"]]},{"id":"7eb387c9.d4dee8","type":"comment","z":"37cf9578.79b03a","name":"Request Device List","info":"","x":130,"y":60,"wires":[]},{"id":"75d1cd58.a58304","type":"comment","z":"37cf9578.79b03a","name":"Receive Device List","info":"","x":130,"y":140,"wires":[]},{"id":"c0ea4e97.8a3e5","type":"json","z":"37cf9578.79b03a","name":"","property":"payload","action":"","pretty":false,"x":530,"y":140,"wires":[["83db48d2.2e13c8","c2252a12.30a408","b06969eb.eb4718"]]},{"id":"78f5caa3.ba31e4","type":"http in","z":"37cf9578.79b03a","name":"","url":"/adminpanelapi/devicelist","method":"get","upload":false,"swaggerDoc":"","x":530,"y":220,"wires":[["5eb061ff.f8417"]]},{"id":"c2252a12.30a408","type":"function","z":"37cf9578.79b03a","name":"Store Data","func":"flow.set('devicelist',msg.payload);","outputs":1,"noerr":0,"x":310,"y":220,"wires":[[]]},{"id":"20669754.8f8548","type":"http response","z":"37cf9578.79b03a","name":"","x":870,"y":220,"wires":[]},{"id":"5eb061ff.f8417","type":"function","z":"37cf9578.79b03a","name":"Get Data","func":"var devicelist = flow.get('devicelist');\nmsg.payload = devicelist;\nreturn msg;","outputs":1,"noerr":0,"x":740,"y":220,"wires":[["20669754.8f8548"]]},{"id":"f984098d.630398","type":"comment","z":"37cf9578.79b03a","name":"HTTP JSON API","info":"","x":120,"y":220,"wires":[]},{"id":"b06969eb.eb4718","type":"function","z":"37cf9578.79b03a","name":"Store Globally","func":"global.set('zigbee2mqttdevicelist',msg.payload.message);\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":120,"wires":[[]]},{"id":"afdf3e0c.579d4","type":"ui_group","z":"37cf9578.79b03a","name":"Devices","tab":"add2a904.2eac88","order":1,"disp":true,"width":"12","collapse":false},{"id":"6536f8ef.e95bb8","type":"subflow","name":"Status","info":"","category":"Zigbee2MQTT Admin Panel","in":[],"out":[]},{"id":"306c7f12.f3b08","type":"mqtt in","z":"6536f8ef.e95bb8","name":"zigbee2mqtt/bridge state","topic":"zigbee2mqtt/bridge/state","qos":"2","broker":"6e165f21.f7645","x":270,"y":80,"wires":[["8e6446a4.3e87f8"]]},{"id":"8e6446a4.3e87f8","type":"function","z":"6536f8ef.e95bb8","name":"Format Data","func":"flow.set('bridgestate',msg.payload);\nvar bridgestate = flow.get('bridgestate');\nmsg.payload = bridgestate;\nreturn msg;","outputs":1,"noerr":0,"x":470,"y":80,"wires":[["52978ba1.a89aa4"]]},{"id":"1ae44785.e95b28","type":"ui_template","z":"6536f8ef.e95bb8","group":"392fedc8.c94512","name":"","order":0,"width":"6","height":"2","format":"<style>\n    {{msg.style}}\n</style>\n\n<table>\n  <tr>\n    <td>Bridge</td>\n    <td>{{msg.payload.bridgestate}}</td>\n  </tr>\n  <tr>\n    <td>Devices</td>\n    <td>{{msg.payload.numberofdevices}}</td>\n  </tr>\n</table>","storeOutMessages":true,"fwdInMessages":true,"templateScope":"local","x":660,"y":140,"wires":[[]]},{"id":"9971486a.c36bf8","type":"function","z":"6536f8ef.e95bb8","name":"Format Data","func":"var bridgestate = flow.get('bridgestate');\nvar devicelist = global.get('zigbee2mqttdevicelist');\nmsg.payload = {}\nmsg.payload.bridgestate = bridgestate;\nmsg.payload.numberofdevices = devicelist.length;\n\nreturn msg;","outputs":1,"noerr":0,"x":510,"y":140,"wires":[["1ae44785.e95b28"]]},{"id":"3adf5187.e846be","type":"inject","z":"6536f8ef.e95bb8","name":"","topic":"","payload":"","payloadType":"date","repeat":"3","crontab":"","once":true,"onceDelay":0.1,"x":350,"y":140,"wires":[["9971486a.c36bf8"]]},{"id":"52978ba1.a89aa4","type":"debug","z":"6536f8ef.e95bb8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":610,"y":80,"wires":[]},{"id":"6479351a.f8bc8c","type":"comment","z":"6536f8ef.e95bb8","name":"Get state","info":"","x":80,"y":80,"wires":[]},{"id":"582e5778.310168","type":"comment","z":"6536f8ef.e95bb8","name":"Update Web UI on Interval","info":"","x":130,"y":140,"wires":[]},{"id":"7da2113.33bcdf","type":"http in","z":"6536f8ef.e95bb8","name":"","url":"/adminpanelapi/state","method":"get","upload":false,"swaggerDoc":"","x":270,"y":220,"wires":[["a132450.d8f81b8"]]},{"id":"bb6e93e1.d0442","type":"http response","z":"6536f8ef.e95bb8","name":"","x":590,"y":220,"wires":[]},{"id":"a132450.d8f81b8","type":"function","z":"6536f8ef.e95bb8","name":"Get Data","func":"var bridgestate = flow.get('bridgestate');\nmsg.payload = bridgestate;\nreturn msg;","outputs":1,"noerr":0,"x":460,"y":220,"wires":[["bb6e93e1.d0442"]]},{"id":"2ca23a46.406b86","type":"comment","z":"6536f8ef.e95bb8","name":"HTTP API","info":"","x":80,"y":220,"wires":[]},{"id":"392fedc8.c94512","type":"ui_group","z":"","name":"Status","tab":"add2a904.2eac88","order":2,"disp":true,"width":"6","collapse":false},{"id":"825c81a1.77b32","type":"subflow","name":"Logging Level","info":"","category":"Zigbee2MQTT Admin Panel","in":[],"out":[]},{"id":"496ae37e.ebc9ac","type":"ui_dropdown","z":"825c81a1.77b32","name":"","label":"","place":"Select option","group":"f1e90cbf.b3ed5","order":1,"width":0,"height":0,"passthru":true,"options":[{"label":"Info","value":"info","type":"str"},{"label":"Debug","value":"debug","type":"str"},{"label":"Warn","value":"warn","type":"str"},{"label":"Error","value":"error","type":"str"}],"payload":"","topic":"","x":120,"y":60,"wires":[["a69ef62.1809008"]]},{"id":"a69ef62.1809008","type":"mqtt out","z":"825c81a1.77b32","name":"zigbee2mqtt/in Logging Level","topic":"zigbee2mqtt/bridge/config/log_level","qos":"","retain":"","broker":"cd51966f.aa7e38","x":380,"y":60,"wires":[]},{"id":"f1e90cbf.b3ed5","type":"ui_group","z":"825c81a1.77b32","name":"Logging Level","tab":"add2a904.2eac88","order":4,"disp":true,"width":"6","collapse":false},{"id":"455637b0.f26bc8","type":"subflow","name":"Remove Device","info":"","category":"Zigbee2MQTT Admin Panel","in":[],"out":[]},{"id":"f2a976.187a6688","type":"ui_text_input","z":"455637b0.f26bc8","name":"","label":"Device Name","group":"c6ec3eee.643d","order":3,"width":0,"height":0,"passthru":true,"mode":"text","delay":"5","topic":"","x":300,"y":60,"wires":[["12b2bce6.c9c3e3"]]},{"id":"478c4357.a6320c","type":"mqtt out","z":"455637b0.f26bc8","name":"zigbee2mqtt/in Remove","topic":"zigbee2mqtt/bridge/config/remove","qos":"","retain":"","broker":"cd51966f.aa7e38","x":1190,"y":60,"wires":[]},{"id":"ed91428a.a7711","type":"function","z":"455637b0.f26bc8","name":"Format Data","func":"flow.set('remove',msg.payload.remove);","outputs":1,"noerr":0,"x":650,"y":60,"wires":[[]]},{"id":"12b2bce6.c9c3e3","type":"change","z":"455637b0.f26bc8","name":"change msg old","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload.remove","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":60,"wires":[["ed91428a.a7711"]]},{"id":"261c860d.9d7b2a","type":"function","z":"455637b0.f26bc8","name":"Format Data","func":"var remove = flow.get('remove');\nif (typeof remove !== 'undefined' && remove !== null && remove !== \"\"){\nmsg.payload = remove;\n\nreturn msg;\n}","outputs":1,"noerr":0,"x":970,"y":60,"wires":[["478c4357.a6320c"]]},{"id":"d80d179d.102528","type":"ui_button","z":"455637b0.f26bc8","name":"","group":"c6ec3eee.643d","order":5,"width":0,"height":0,"passthru":false,"label":"Remove","color":"","bgcolor":"","icon":"","payload":"","payloadType":"date","topic":"","x":820,"y":60,"wires":[["261c860d.9d7b2a","afceb44a.c321c8"]]},{"id":"a4abd7fe.d5f108","type":"comment","z":"455637b0.f26bc8","name":"Remove Device","info":"","x":120,"y":60,"wires":[]},{"id":"c4d269f6.d7a588","type":"mqtt in","z":"455637b0.f26bc8","name":"zigbee2mqtt/logging","topic":"zigbee2mqtt/bridge/log","qos":"2","broker":"6e165f21.f7645","x":290,"y":120,"wires":[["b9bad1b2.a51ff"]]},{"id":"b9bad1b2.a51ff","type":"json","z":"455637b0.f26bc8","name":"","property":"payload","action":"","pretty":false,"x":450,"y":120,"wires":[["98549adf.bad1e8"]]},{"id":"c3072b68.650f08","type":"ui_toast","z":"455637b0.f26bc8","position":"top right","displayTime":"5","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"System Notification","name":"","x":790,"y":120,"wires":[]},{"id":"98549adf.bad1e8","type":"function","z":"455637b0.f26bc8","name":"Notification","func":"if(msg.payload.type == 'device_removed') {\nvar remove = flow.get('remove');\nif (typeof remove !== 'undefined' && remove !== null && remove !== \"\"){\nmsg.payload = (\"Deviced removed: \" + msg.payload.message);\n\n// Reset field\n//remove = \"\";\n//flow.set('remove',msg.payload.message);\n\nreturn msg;\n}\n}\n\n","outputs":1,"noerr":0,"x":590,"y":120,"wires":[["c3072b68.650f08"]]},{"id":"794db8b3.af0928","type":"comment","z":"455637b0.f26bc8","name":"Notification","info":"","x":110,"y":120,"wires":[]},{"id":"6fcb9716.ac8d38","type":"ui_toast","z":"455637b0.f26bc8","position":"top right","displayTime":"5","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"System Notification","name":"","x":1210,"y":120,"wires":[]},{"id":"afceb44a.c321c8","type":"function","z":"455637b0.f26bc8","name":"Notification","func":"var remove = flow.get('remove');\nif (typeof remove === 'undefined' || remove === null || remove === \"\"){\nmsg.payload = \"Enter a device to remove\";\n\nreturn msg;\n}","outputs":1,"noerr":0,"x":1010,"y":120,"wires":[["6fcb9716.ac8d38"]]},{"id":"c6ec3eee.643d","type":"ui_group","z":"455637b0.f26bc8","name":"Remove Device","tab":"add2a904.2eac88","order":5,"disp":true,"width":"6","collapse":false},{"id":"6e165f21.f7645","type":"mqtt-broker","z":"","name":"MQTT","broker":"127.0.0.1","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"domoticz/bridge/state","birthQos":"0","birthPayload":"online","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"2aa08d28.10a922","type":"subflow","name":"Permit Join","info":"","category":"Zigbee2MQTT Admin Panel","in":[],"out":[]},{"id":"bb54b4cb.c4f0e8","type":"ui_dropdown","z":"2aa08d28.10a922","name":"","label":"","place":"Select option","group":"24dab572.b5446a","order":1,"width":0,"height":0,"passthru":true,"options":[{"label":"Allow","value":"true","type":"str"},{"label":"Deny","value":"false","type":"str"}],"payload":"","topic":"","x":90,"y":40,"wires":[["8a6598f7.b79738","43543d99.8ebd44"]]},{"id":"8a6598f7.b79738","type":"mqtt out","z":"2aa08d28.10a922","name":"zigbee2mqtt/in Join","topic":"zigbee2mqtt/bridge/config/permit_join","qos":"","retain":"","broker":"cd51966f.aa7e38","x":270,"y":40,"wires":[]},{"id":"79ff7ac8.734b84","type":"ui_toast","z":"2aa08d28.10a922","position":"top right","displayTime":"5","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"System Notification","name":"","x":450,"y":100,"wires":[]},{"id":"43543d99.8ebd44","type":"function","z":"2aa08d28.10a922","name":"Notification","func":"if (typeof msg.payload !== 'undefined' && msg.payload !== null && msg.payload !== \"\"){\nif (msg.payload == \"false\"){\n    msg.payload = \"Permit join: Deny\";\n}\nif (msg.payload == \"true\"){\n    msg.payload = \"Permit join: Allow\";\n}\nreturn msg;\n}\n","outputs":1,"noerr":0,"x":250,"y":100,"wires":[["79ff7ac8.734b84"]]},{"id":"24dab572.b5446a","type":"ui_group","z":"","name":"Permit Join","tab":"add2a904.2eac88","order":3,"disp":true,"width":"6","collapse":false},{"id":"e027e7ec.886cc8","type":"subflow","name":"Rename Device","info":"","category":"Zigbee2MQTT Admin Panel","in":[],"out":[]},{"id":"58aea6d3.5ca908","type":"ui_text_input","z":"e027e7ec.886cc8","name":"","label":"Old Name","group":"8ee73463.fb8988","order":3,"width":0,"height":0,"passthru":true,"mode":"text","delay":"5","topic":"","x":120,"y":140,"wires":[["cf268dfa.68fe8"]]},{"id":"9d1f9702.a5fd48","type":"ui_text_input","z":"e027e7ec.886cc8","name":"","label":"New Name","group":"8ee73463.fb8988","order":4,"width":0,"height":0,"passthru":true,"mode":"text","delay":"5","topic":"","x":130,"y":200,"wires":[["7ebeb611.d50eb8"]]},{"id":"ad0969a5.6d36f8","type":"mqtt out","z":"e027e7ec.886cc8","name":"zigbee2mqtt/in Rename","topic":"zigbee2mqtt/bridge/config/rename","qos":"","retain":"","broker":"cd51966f.aa7e38","x":1010,"y":140,"wires":[]},{"id":"44b86390.6ed1ac","type":"function","z":"e027e7ec.886cc8","name":"Format Data","func":"flow.set('oldname',msg.payload.old);","outputs":1,"noerr":0,"x":470,"y":140,"wires":[[]]},{"id":"cf268dfa.68fe8","type":"change","z":"e027e7ec.886cc8","name":"change msg old","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload.old","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":300,"y":140,"wires":[["44b86390.6ed1ac"]]},{"id":"7ebeb611.d50eb8","type":"change","z":"e027e7ec.886cc8","name":"change msg new","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload.new","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":310,"y":200,"wires":[["2fe72f9.9c57bd"]]},{"id":"653b55.b75c34ac","type":"function","z":"e027e7ec.886cc8","name":"Format Data","func":"var oldname = flow.get('oldname');\nvar newname = flow.get('newname');\n\nif (typeof oldname !== 'undefined' && oldname !== null && oldname !== \"\" && typeof newname !== 'undefined' && newname !== null && newname !== \"\"){\nmsg.payload = {\"old\": oldname, \"new\": newname}\n\n// Reset fields\noldname = \"\";\nnewname = \"\";\nflow.set('oldname',msg.payload.old);\nflow.set('newname',msg.payload.new);\n\nreturn msg;\n}","outputs":1,"noerr":0,"x":790,"y":140,"wires":[["ad0969a5.6d36f8"]]},{"id":"2fe72f9.9c57bd","type":"function","z":"e027e7ec.886cc8","name":"Format Data","func":"flow.set('newname',msg.payload.new);","outputs":1,"noerr":0,"x":490,"y":200,"wires":[[]]},{"id":"751f4511.53d0ec","type":"ui_button","z":"e027e7ec.886cc8","name":"","group":"8ee73463.fb8988","order":5,"width":0,"height":0,"passthru":false,"label":"Rename","color":"","bgcolor":"","icon":"","payload":"","payloadType":"date","topic":"","x":640,"y":140,"wires":[["653b55.b75c34ac","87d59a76.b6efe8"]]},{"id":"bf11038c.9cde3","type":"ui_toast","z":"e027e7ec.886cc8","position":"top right","displayTime":"5","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"System Notification","name":"","x":850,"y":200,"wires":[]},{"id":"87d59a76.b6efe8","type":"function","z":"e027e7ec.886cc8","name":"Notification","func":"var oldname = flow.get('oldname');\nvar newname = flow.get('newname');\n\nif (typeof oldname !== 'undefined' && oldname !== null && oldname !== \"\" && typeof newname !== 'undefined' && newname !== null && newname !== \"\"){\nmsg.payload = (\"Rename Device: \" + oldname + \" to \" + newname);\nreturn msg;\n} else {\nmsg.payload = \"Enter device to rename\";\nreturn msg;\n}\n","outputs":1,"noerr":0,"x":670,"y":200,"wires":[["bf11038c.9cde3"]]},{"id":"8ee73463.fb8988","type":"ui_group","z":"","name":"Rename Device","tab":"add2a904.2eac88","order":6,"disp":true,"width":"6","collapse":false},{"id":"cd51966f.aa7e38","type":"mqtt-broker","z":"","name":"MQTT","broker":"127.0.0.1","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"add2a904.2eac88","type":"ui_tab","z":"","name":"Zigbee2MQTT Admin Panel","icon":"dashboard"},{"id":"6827bec0.178d9","type":"subflow:e027e7ec.886cc8","z":"ec470a7f.c7f4d8","name":"","x":140,"y":140,"wires":[]},{"id":"e8077c11.e532","type":"subflow:2aa08d28.10a922","z":"ec470a7f.c7f4d8","name":"","x":120,"y":100,"wires":[]},{"id":"2e236120.4ba40e","type":"subflow:455637b0.f26bc8","z":"ec470a7f.c7f4d8","name":"","x":140,"y":180,"wires":[]},{"id":"d7d4871e.116ab8","type":"comment","z":"ec470a7f.c7f4d8","name":"Function","info":"","x":120,"y":60,"wires":[]},{"id":"b671d5e0.02d6a8","type":"subflow:825c81a1.77b32","z":"ec470a7f.c7f4d8","name":"","x":130,"y":220,"wires":[]},{"id":"bc0fc748.a40c28","type":"subflow:6536f8ef.e95bb8","z":"ec470a7f.c7f4d8","name":"","x":110,"y":260,"wires":[]},{"id":"71a1552d.da311c","type":"subflow:37cf9578.79b03a","z":"ec470a7f.c7f4d8","name":"","x":110,"y":300,"wires":[]},{"id":"eaaf937d.1dd6c","type":"comment","z":"ec470a7f.c7f4d8","name":"Other","info":"","x":370,"y":60,"wires":[]},{"id":"c3d6095.a91f1f8","type":"subflow:4ad99e02.84c35","z":"ec470a7f.c7f4d8","name":"","x":410,"y":100,"wires":[]},{"id":"7c439f10.dfbfb","type":"subflow:b9bda66c.7da068","z":"ec470a7f.c7f4d8","name":"","x":390,"y":140,"wires":[]}]
